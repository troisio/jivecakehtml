<md-toolbar class="md-hue-2">
  <div class="md-toolbar-tools">
    <h3>Create Transaction for {{item.name}}</h3>
  </div>
</md-toolbar>
<div layout-padding class="md-inline-form">
  <form name="form" ng-submit="!loading && controller.submit(transaction, item, event)">
    <div layout layout-sm="column">
      <md-input-container flex class="md-block">
        <label>First Name</label>
        <input ng-required="event.requireName" ng-model="transaction.given_name" maxlength="255">
      </md-input-container>
      <md-input-container flex class="md-block">
        <label>Middle Name</label>
        <input ng-model="transaction.middleName" maxlength="255">
      </md-input-container>
      <md-input-container flex class="md-block">
        <label>Last Name</label>
        <input ng-required="event.requireName" ng-model="transaction.family_name" maxlength="255">
      </md-input-container>
    </div>
    <md-input-container class="md-block">
      <label>Email</label>
      <input ng-model="transaction.email" type="email" class="form-control" maxlength="255" placeholder="Email" autocomplete="off">
    </md-input-container>
    <md-input-container ng-show="event.requireOrganizationName" class="md-block">
      <label>Organization Name</label>
      <input ng-model="transaction.organizationName" ng-required="event.requireOrganizationName" class="form-control" maxlength="255" placeholder="Organization Name" autocomplete="off">
    </md-input-container>
    <md-input-container class="md-block">
      <label>Total Amount Paid</label>
      <input ng-model="transaction.amount" type="number" min="0" step="0.01" class="form-control" placeholder="Amount" autocomplete="off" required>
    </md-input-container>
    <md-input-container class="md-block">
      <label>Quantity</label>
      <input ng-model="transaction.quantity" type="number" min="1" step="1" class="form-control" placeholder="quantity" autocomplete="off" required>
    </md-input-container>
    <md-input-container class="md-block">
      <label>Currency</label>
      <p ng-show="event.currency === currency.id" ng-repeat="currency in currencies">{{currency.label}}</p>
      <md-select ng-show="event.currency === null" name="paymentProfile" ng-model="transaction.currency" required aria-label="Currency">
        <md-option ng-value="currency.id" ng-repeat="currency in currencies">{{currency.label}}</md-option>
      </md-select>
      <div class="errors" ng-messages="form.paymentProfile.$error">
        <div ng-message="required">required</div>
      </div>
    </md-input-container>
    <div>
      <md-input-container>
        <md-button ng-click="controller.setDefaults()" type="button" class="md-raised">Reset</md-button>
      </md-input-container>
      <md-input-container>
        <md-button ui-sref="application.internal.item.read" class="md-raised">Cancel</md-button>
      </md-input-container>
      <md-input-container>
        <md-button type="submit" class="md-raised md-primary">Create</md-button>
      </md-input-container>
      <md-input-container ng-show="loading">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </md-input-container>
    </div>
  </form>
</div>